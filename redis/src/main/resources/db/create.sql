-- Создание таблицы article
CREATE TABLE IF NOT EXISTS article (
                                       id BIGINT PRIMARY KEY,
                                       title VARCHAR(255),
    text TEXT
    );

-- Создание таблицы comment
CREATE TABLE IF NOT EXISTS comment (
                                       id BIGINT PRIMARY KEY,
                                       text VARCHAR(1000),
    score INTEGER NOT NULL CHECK (score >= 1 AND score <= 100),
    article_id BIGINT NOT NULL,
    CONSTRAINT fk_comment_article FOREIGN KEY (article_id)
    REFERENCES article(id) ON DELETE CASCADE
    );

-- Вставка тестовых данных для article
INSERT INTO article (id, title, text) VALUES
                                          (1, 'Новости технологий', 'Современные технологии развиваются быстрыми темпами...'),
                                          (2, 'Искусственный интеллект в медицине', 'ИИ помогает врачам ставить более точные диагнозы...'),
                                          (3, 'Квантовые компьютеры', 'Квантовые вычисления обещают революцию в криптографии...'),
                                          (4, 'Экология и технологии', 'Как технологии помогают бороться с изменением климата...'),
                                          (5, 'Будущее блокчейна', 'Блокчейн находит применение за пределами криптовалют...')
    ON CONFLICT (id) DO NOTHING;

-- Вставка тестовых данных для comment
INSERT INTO comment (id, text, score, article_id) VALUES
                                                      (1, 'Отличная статья!', 95, 1),
                                                      (2, 'Интересный взгляд на проблему', 78, 1),
                                                      (3, 'Не совсем согласен с автором', 45, 1),
                                                      (4, 'Много воды в тексте', 30, 1),
                                                      (5, 'Хотелось бы больше примеров', 65, 1),
                                                      (6, 'Очень актуальная тема', 88, 2),
                                                      (7, 'Жду продолжения!', 92, 2),
                                                      (8, 'Есть неточности в фактах', 40, 2),
                                                      (9, 'Сложная тема, но хорошо объяснено', 85, 3),
                                                      (10, 'Перегружено терминами', 55, 3),
                                                      (11, 'Отличный обзор!', 95, 3),
                                                      (12, 'Можно было короче', 60, 3),
                                                      (13, 'Информативно и полезно', 90, 3),
                                                      (14, 'Слишком оптимистичный прогноз', 48, 3),
                                                      (15, 'Лучшая статья на эту тему', 98, 3),
                                                      (16, 'Важная тема для обсуждения', 89, 4),
                                                      (17, 'Не хватает конкретных решений', 52, 4),
                                                      (18, 'Хороший анализ проблемы', 76, 4),
                                                      (19, 'Спасибо за статью!', 93, 4),
                                                      (20, 'Интересные перспективы', 81, 5),
                                                      (21, 'Уже устарело', 25, 5)
    ON CONFLICT (id) DO NOTHING;
